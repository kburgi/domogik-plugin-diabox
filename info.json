{
	"json_version": 2,
	"identity": {
		"author": "kbu",
		"author_email": "kbu at kbulabs dot fr",
		"tags": ["weather"],
		"dependencies": [
			{
				"id": "requests (>=2.11)",
				"type": "python"
			},
			{
				"id": "datetime",
				"type": "python"
			},
			{
				"id": "json (>=2.0.0)",
				"type": "python"
			}
		],
		"description": "Live weather plugin based on diabox station",
		"domogik_min_version": "0.5",
		"name": "diabox",
		"type": "plugin",
		"version": "0.0"
	},
    	"configuration": [],
    	"commands": {},
    	"xpl_commands": {},
    	"sensors": {
		"current_temperature": {
		    "name": "temperature",
		    "data_type": "DT_Temp",
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		},
		"current_pressure": {
		    "name": "pressure",
		    "data_type": "DT_Pressure",
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		},
		"current_wind_speed_kts": {
		    "name": "wind_speed_kts",
		    "data_type": "DT_Speed",
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		},
		"current_wind_direction": {
		    "name": "wind_direction",
		    "data_type": "DT_Angle",
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		},
		"current_humidity": {
		    "name": "humidity",
		    "data_type": "DT_Humidity",
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		},
		"current_rain_rate": {
		    "name": "rain_rate",
		    "data_type": "DT_mMeterHour", 
		    "conversion": "",
		    "incremental": false,
		    "timeout": 0,
		    "history": {
			"store": true,
			"duplicate": false,
			"max": 0,
			"expire": 20,
			"round_value": 0
		    }
		}
	},
    	"xpl_stats": {
		"current_temperature": {
			"name":"Temperature",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"temperature"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
					    	"sensor": "current_temperature"
			    		}
				]
			}
		},
		"current_pressure": {
			"name":"Pressure",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"pressure"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
					    	"sensor": "current_pressure"
			    		}
				]
			}
		},
		"current_wind_speed_kts": {
			"name":"Wind speed",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"windspeed"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
					    	"sensor": "current_wind_speed_kts"
			    		}
				]
			}
		},
		"current_wind_direction": {
			"name":"Wind direction",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"winddirection"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
					    	"sensor": "current_wind_direction"
			    		}
				]
			}
		},
		"current_humidity": {
			"name":"Humidity",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"humidity"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
					    	"sensor": "current_humidity"
			    		}
				]
			}
		},
		"current_rain_rate": {
			"name":"Rain rate",
			"schema": "sensor.basic",
		    	"parameters": {
				"static": [
					{
						"key":"type",
						"value":"rainrate"
					}
				],
				"device": [],
				"dynamic": [
			    		{
				    		"key": "current",
				    		"ignore_values": "",
						"sensor":"current_rain_rate"
					}
				]
			}
		}
	},
    	"device_types": {
        	"diabox.minou": {
			"description": "Diabox au phare du Minou",
			"id": "diabox.minou",
			"name": "Phare du Minou (29)",
			"commands": [],
			"sensors": [
					"current_temperature", 
					"current_pressure", 
					"current_wind_speed_kts", 
					"current_wind_direction", 
					"current_humidity", 
					"current_rain_rate"
			],
			"parameters": [
				{
				    "key": "interval",
				    "xpl": false,
				    "description": "The time in seconds between each refresh of data. Please do NOT be to greedy. A refresh rate bewteen 60 and 600 sec (1 - 10 min) seems to be respectable.",
				    "type": "integer"
				}
			]
		},
        	"diabox.wrach": {
			"description": "Diabox au phare de l'île Wrac'h",
			"id": "diabox.wrach",
			"name": "Phare de l'île Wrac'h",
			"commands": [],
			"sensors": [
					"current_temperature", 
					"current_pressure", 
					"current_wind_speed_kts", 
					"current_wind_direction", 
					"current_humidity", 
					"current_rain_rate"
			],
			"parameters": [
				{
				    "key": "interval",
				    "xpl": false,
				    "description": "The time in seconds between each refresh of data. Please do NOT be to greedy. A refresh rate bewteen 60 and 600 sec (1 - 10 min) seems to be respectable.",
				    "type": "integer"
				}
			]
		}
	}		
}	
